package tp6;

public class Semaphore {
	
	int cpt;
	
	
	public Semaphore(){

	}
	
	public void init(int x){
		cpt = x;
	}
		 
	public void p() throws InterruptedException{

			
			//Object o = new Object();
		
		synchronized(this){
			if(cpt == 0){
				this.wait();
				System.out.println("BLOOOOCAGE");
			}
			else {
				cpt--;
			}
			
		}
		


	}
	
	public void v() {
		
		synchronized(this){
			
			cpt++;
			this.notifyAll();
		}
		
		
	}
		 
		



	public static void main(String[] args) {
		Semaphore s = new Semaphore();
			s.init(1);
			/* cr√©ation des threads */
			ThreadTP6 t1 = new ThreadTP6(s,"thread numero 1");
			ThreadTP6 t2 = new ThreadTP6(s,"thread numero 2");
			
			// lunch
			t1.start();
			t2.start();
			
	}
	
}